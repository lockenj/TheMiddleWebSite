app.factory("VideosFctry",function(){
	var videos = [
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"},
	        	  {name:"What the heck", file:"http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4", image:"http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg"}
	];
	
	var vFctry = {
		getVideos: function(){
			return videos;
		},
		getSelected: function(){
			return selectedVideo;
		},
		setSelected: function(video){
			selectedVideo = video;
			/*var jwp = jwplayer("video_player");
			if(jwp.remove){
			  jwp.remove();
			}
			jwp = jwplayer("video_player").setup({
		    file: video.file,
		    image: video.image,
		    width: '650px',
		    height: '375px'
		  });*/
		}
	};
	var selectedVideo = vFctry.setSelected(videos[0]);
	
	return vFctry;
});

app.controller('VideosCtrl', function($scope, VideosFctry) {
	$scope.videosFctry = VideosFctry;
	$scope.vid = {file: 'http://content.bitsontherun.com/videos/lWMJeVvV-364767.mp4',image: 'http://www.longtailvideo.com//content/images/jw-player/lWMJeVvV-876.jpg'};
	
	$scope.videoClicked = function(video){
		VideosFctry.setSelected(video);
	};
});